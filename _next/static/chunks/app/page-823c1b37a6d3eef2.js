(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7112:function(e,t,a){Promise.resolve().then(a.t.bind(a,5658,23)),Promise.resolve().then(a.t.bind(a,5469,23)),Promise.resolve().then(a.t.bind(a,5327,23)),Promise.resolve().then(a.bind(a,4964)),Promise.resolve().then(a.bind(a,2697))},4964:function(e,t,a){"use strict";a.d(t,{AppBadge:function(){return S}});var s=a(7573),n=a(7653),l=a(973);let r=()=>Error("Badge API not supported"),i=e=>async()=>{throw r()},o={isAppBadgeSupported:()=>!1,clearAppBadge:i("clearAppBadge"),setAppBadge:i("setAppBadge"),requestAppBadgePermission:async()=>!1},d={isAppBadgeSupported:l.tg,clearAppBadge:l.wk,setAppBadge:l.iw,requestAppBadgePermission:l.cF},c=()=>o,p=()=>d,u=()=>()=>{},f=()=>{},m=function(){let{favIcon:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{favIcon:!1},{setAppBadge:t,clearAppBadge:s,isAppBadgeSupported:i,requestAppBadgePermission:o}=(0,n.useSyncExternalStore)(u,p,c),[d,m]=(0,n.useState)(),[x,h]=(0,n.useState)(0),[A,b]=(0,n.useState)(""),w=!!e,{src:g,badgeColor:v,badgeSize:y,textColor:B,updateMeta:j}=e||{},N=null==j||j,I=(0,n.useCallback)(async()=>{try{let e=await o();return m(e),e}catch(e){throw m(!1),e}},[o]),k=(0,n.useCallback)(()=>{let e=(0,l.RX)();if("unknown"!==e)return"granted"===e;if(void 0===d)throw r();return d},[d]),C=(0,n.useCallback)(async e=>{try{await t(e)}catch(e){if(!w)throw e}h("number"!=typeof e||e)},[w,t]),E=(0,n.useCallback)(async()=>{try{await s()}catch(e){if(!w)throw e}h(0)},[s,w]),S=(0,n.useMemo)(()=>({set:C,clear:E,requestPermission:I,isAllowed:k,isSupported:i,count:x,countAsNumber:Number(x),icon:A}),[C,E,I,k,i,x,A]);return(0,n.useEffect)(()=>()=>{S.clear().catch(f)},[S.clear]),(0,n.useEffect)(()=>{if("granted"!==(0,l.RX)()&&w){if("boolean"!=typeof x&&x<=0){b(g);return}(async()=>{let{generateIconFor:e}=await a.e(151).then(a.bind(a,2151));b(await e({src:g,content:x,badgeColor:v,badgeSize:y,textColor:B}))})().catch(f)}},[w,x,g,v,y,B,k]),(0,n.useEffect)(()=>{let e;if(!w)return;let t=()=>document.querySelector('link[rel="icon"]:not([media])')||{};if(N&&A){let a=t();a&&(void 0===e&&(e=a.href),a.href=A)}return()=>{let a=t();a&&void 0!==e&&(a.href=e)}},[A,N,w]),S};var x=a(6399),h=a(6124);let A={loaded:!1,didPromptInstall:!1,canInstall:!1,install:()=>{},status:"unsupported"},b=A,w=e=>!!e&&"userChoice"in e,g=e=>{let t=()=>{};if(!("BeforeInstallPromptEvent"in window))return b={...b,loaded:!0},t;if("matchMedia"in window&&window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: window-controls-overlay)").matches)return b={...b,loaded:!0,status:"install"},t;let a=null;"onappinstalled"in window&&(a=setTimeout(()=>{b={...b,status:"install-not-open",loaded:!0,canInstall:!1},e()},350));let s=t=>{"number"==typeof a&&(clearTimeout(a),a=null),w(t)&&!b.canInstall&&(b={...b,loaded:!0,canInstall:!0,status:"initial",install:()=>{let a=async()=>{b={...b,didPromptInstall:!0,loaded:!0};let{outcome:a}=await t.prompt();"dismissed"===a&&(b={...b,status:"denied"}),e()};b.didPromptInstall||a()}},e()),t.preventDefault()},n=()=>{b={...b,loaded:!0,status:"install"},e()};return window.addEventListener("beforeinstallprompt",s),window.addEventListener("appinstalled",n),()=>{window.removeEventListener("beforeinstallprompt",s),window.removeEventListener("appinstalled",n),b=A}},v=()=>b,y=()=>{let{install:e,loaded:t,status:a}=(0,n.useSyncExternalStore)(g,v,v);return(0,n.useMemo)(()=>({install:e,status:t?a:"loading"}),[e,t,a])},B=()=>()=>{},j=e=>{let{children:t}=e;return(0,n.useSyncExternalStore)(B,()=>!1,()=>!0)?null:t()},N=()=>"navigator"in window,I=()=>N()&&"setAppBadge"in navigator,k=()=>N()&&navigator.vendor.startsWith("Apple"),C={initial:"bg-[#bde8ff]",denied:"bg-[#f3999d]",installed:"bg-[#bdffd4]",unsupported:"bg-[#feaf82]"},E=e=>{let{className:t,onClick:a,type:n="button",state:l,...r}=e;return(0,s.jsx)("button",{...r,onClick:a,className:(0,h.cx)(t,C[l],a?"cursor-pointer":"cursor-not-allowed","mt-2 transform-[rotate(-2deg)] text-xs font-semibold px-3 py-[1px] rounded-xl text-background lowercase"),type:n})},S=()=>{let{set:e,clear:t,countAsNumber:a,isSupported:l,requestPermission:r}=m({favIcon:{src:x.default.src}});(0,n.useEffect)(()=>{let t=setTimeout(()=>e(1),50);return()=>{clearTimeout(t)}},[e]);let{install:i,status:o}=y(),d=l()?"install":o,c=a>99;return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-y-2 py-10 w-[240px]",children:[(0,s.jsxs)("div",{className:"w-[188px]",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold w-[188px] pb-4",children:"use-app-badge"}),(0,s.jsx)("div",{className:"absolute top-[-12px] right-[-12px]",children:(0,s.jsx)("div",{className:(0,h.cx)("bg-[#ff0000] inline-block p-5 rounded-full relative [transition:transform_ease-out_0.25s]",a>0?"[transform:scale(0.5)_translateX(13px)]":"[transform:scale(0)_translateX(13px)]"),children:(0,s.jsx)("div",{className:(0,h.cx)(c?"text-[17px]":"text-2xl","font-bold absolute top-0 left-0 w-[40px] h-[40px] flex items-center justify-center"),children:c?"99+":a})})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-2 w-[188px] items-start",children:[(0,s.jsx)("button",{className:"text-accent cursor-pointer lowercase",onClick:()=>void r(),children:"Request Permission"}),(0,s.jsx)("button",{className:"text-accent cursor-pointer lowercase",onClick:()=>void e(a+1),children:"Increment Badge Count"}),(0,s.jsx)("button",{className:"text-accent cursor-pointer lowercase",onClick:()=>void t(),children:"Clear Badge"})]}),(0,s.jsx)("div",{className:"flex flex-col gap-y-2 w-[188px] items-start pt-4 lowercase h-[40px]",children:(0,s.jsx)(j,{children:()=>(0,s.jsxs)(s.Fragment,{children:["Supported ",l()?"Yes":"No"]})})})]}),"loading"!==d?(0,s.jsxs)("div",{className:"w-full flex justify-start pl-[24px] h-[26px]",children:["initial"===d&&(0,s.jsx)(E,{state:"initial",onClick:i,children:"Install Web App to see Demo"}),"denied"===d&&(0,s.jsx)(E,{state:"denied",disabled:!0,children:"Install Prompt Dismissed"}),("install"===d||"install-not-open"===d)&&(0,s.jsx)(E,{state:"installed",disabled:!0,children:"install-not-open"!==o?"Installed":"Installed but Not Open as an App"}),"unsupported"===d&&(0,s.jsx)(E,{state:"unsupported",disabled:!0,children:k()&&I()?"App must be Installed from Safari":"Unsupported Browser"})]}):(0,s.jsx)("div",{className:"w-full flex justify-start pl-[24px] h-[28px]"})]})}},6399:function(e,t){"use strict";t.default={src:"/use-app-badge//_next/static/media/favicon.15bea314.ico",height:48,width:48,blurWidth:0,blurHeight:0}},2697:function(e,t){"use strict";t.default={src:"/use-app-badge//_next/static/media/windows.20fce9a1.png",height:45,width:290,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAAFVBMVEUzVVdLWUE0TDVZWDcrP0ldQDxPYFTApkojAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAEUlEQVR4nGNgYGBiZWZhYwQAAFMAFqB4wGkAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1}}},function(e){e.O(0,[616,293,286,744],function(){return e(e.s=7112)}),_N_E=e.O()}]);
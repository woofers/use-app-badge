(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8032:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,8335,23)),Promise.resolve().then(a.t.bind(a,7209,23)),Promise.resolve().then(a.t.bind(a,2259,23)),Promise.resolve().then(a.bind(a,341))},341:(e,t,a)=>{"use strict";a.d(t,{AppBadge:()=>F});var n=a(7573),s=a(3548),l=a(7653);let i=()=>navigator.vendor.startsWith("Apple"),r=()=>"matchMedia"in window&&window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: window-controls-overlay)").matches,o=()=>"Notification"in window,d=()=>"https:"===location.protocol&&o()&&r()&&navigator&&"setAppBadge"in navigator,c=async()=>{let{state:e}=await navigator.permissions.query({name:"notifications"});return e},p=async()=>{let e=await Notification.requestPermission();return"default"!==e?e:"denied"},u=e=>async function(){for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];let s=w();if(!(e in navigator)||"denied"===s)throw new DOMException("Badge API not supported");if(!("unknown"!==s||await c()!=="granted"))throw new DOMException("Badge API permission denied");return await navigator[e](...a)},m=u("clearAppBadge"),f=u("setAppBadge"),w=()=>d()?i()?"unknown":"granted":"denied",x=async()=>{let e=w();return"unknown"===e&&(e=await c()),"prompt"===e&&(e=await p()),"denied"!==e},h=()=>Error("Badge API not supported"),g=e=>async()=>{throw h()},b={isAppBadgeSupported:()=>!1,clearAppBadge:g("clearAppBadge"),setAppBadge:g("setAppBadge"),requestAppBadgePermission:async()=>!1},v={isAppBadgeSupported:d,clearAppBadge:m,setAppBadge:f,requestAppBadgePermission:x},y=()=>b,A=()=>v,B=()=>()=>{},N=()=>{},j=function(){let{favIcon:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{favIcon:!1},{setAppBadge:t,clearAppBadge:n,isAppBadgeSupported:s,requestAppBadgePermission:i}=(0,l.useSyncExternalStore)(B,A,y),[r,o]=(0,l.useState)(),[d,c]=(0,l.useState)(0),[p,u]=(0,l.useState)(""),m=!!e,{src:f,badgeColor:x,badgeSize:g,textColor:b,updateMeta:v}=e||{},j=null==v||v,S=(0,l.useCallback)(async()=>{try{let e=await i();return o(e),e}catch(e){throw o(!1),e}},[i]),I=(0,l.useCallback)(()=>{let e=w();if("unknown"!==e)return"granted"===e;if(void 0===r)throw h();return r},[r]),k=(0,l.useCallback)(async e=>{try{await t(e)}catch(e){if(!m)throw e}c("number"!=typeof e||e)},[m,t]),C=(0,l.useCallback)(async()=>{try{await n()}catch(e){if(!m)throw e}c(0)},[n,m]),E=(0,l.useMemo)(()=>({set:k,clear:C,requestPermission:S,isAllowed:I,isSupported:s,count:d,countAsNumber:Number(d),icon:p}),[k,C,S,I,s,d,p]);return(0,l.useEffect)(()=>()=>{E.clear().catch(N)},[E.clear]),(0,l.useEffect)(()=>{if("granted"!==w()&&m){if("boolean"!=typeof d&&d<=0){u(f);return}(async()=>{let{generateIconFor:e}=await a.e(980).then(a.bind(a,1980));u(await e({src:f,content:d,badgeColor:x,badgeSize:g,textColor:b}))})().catch(N)}},[m,d,f,x,g,b,I]),(0,l.useEffect)(()=>{let e;if(!m)return;let t=()=>document.querySelector('link[rel="icon"]:not([media])')||{};if(j&&p){let a=t();a&&(void 0===e&&(e=a.href),a.href=p)}return()=>{let a=t();a&&void 0!==e&&(a.href=e)}},[p,j,m]),E};var S=a(8200),I=a(7070);let k={loaded:!1,didPromptInstall:!1,canInstall:!1,install:()=>{},status:"unsupported"},C=k,E=e=>!!e&&"userChoice"in e,P=e=>{let t=()=>{};if(!("BeforeInstallPromptEvent"in window))return C={...C,loaded:!0},t;if("matchMedia"in window&&window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: window-controls-overlay)").matches)return C={...C,loaded:!0,status:"install"},t;let a=null;"onappinstalled"in window&&(a=setTimeout(()=>{C={...C,status:"install-not-open",loaded:!0,canInstall:!1},e()},350));let n=t=>{"number"==typeof a&&(clearTimeout(a),a=null),E(t)&&!C.canInstall&&(C={...C,loaded:!0,canInstall:!0,status:"initial",install:()=>{let a=async()=>{C={...C,didPromptInstall:!0,loaded:!0};let{outcome:a}=await t.prompt();"dismissed"===a&&(C={...C,status:"denied"}),e()};C.didPromptInstall||a()}},e()),t.preventDefault()},s=()=>{C={...C,loaded:!0,status:"install"},e()};return window.addEventListener("beforeinstallprompt",n),window.addEventListener("appinstalled",s),()=>{window.removeEventListener("beforeinstallprompt",n),window.removeEventListener("appinstalled",s),C=k}},_=()=>C,M=()=>{let e;let t=(0,s.c)(3),{install:a,loaded:n,status:i}=(0,l.useSyncExternalStore)(P,_,_),r=n?i:"loading";return t[0]!==a||t[1]!==r?(e={install:a,status:r},t[0]=a,t[1]=r,t[2]=e):e=t[2],e},q=()=>()=>{},D=e=>{let t,a,n;let i=(0,s.c)(5),{children:r}=e;i[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>!1,a=()=>!0,i[0]=t,i[1]=a):(t=i[0],a=i[1]);let o=(0,l.useSyncExternalStore)(q,t,a);return i[2]!==o||i[3]!==r?(n=o?null:r(),i[2]=o,i[3]=r,i[4]=n):n=i[4],n},O=()=>"navigator"in window,L=()=>O()&&"setAppBadge"in navigator,T=()=>O()&&navigator.vendor.startsWith("Apple"),W={initial:"bg-[#bde8ff]",denied:"bg-[#f3999d]",installed:"bg-[#bdffd4]",unsupported:"bg-[#feaf82]"},z=e=>{let t,a,l,i,r,o,d;let c=(0,s.c)(15);c[0]!==e?({className:i,onClick:l,type:t,state:a,...r}=e,c[0]=e,c[1]=t,c[2]=a,c[3]=l,c[4]=i,c[5]=r):(t=c[1],a=c[2],l=c[3],i=c[4],r=c[5]);let p=void 0===t?"button":t,u=W[a],m=l?"cursor-pointer":"cursor-not-allowed";return c[6]!==i||c[7]!==u||c[8]!==m?(o=(0,I.cx)(i,u,m,"mt-2 transform-[rotate(-2deg)] text-xs font-semibold px-3 py-[1px] rounded-xl text-background lowercase"),c[6]=i,c[7]=u,c[8]=m,c[9]=o):o=c[9],c[10]!==r||c[11]!==l||c[12]!==o||c[13]!==p?(d=(0,n.jsx)("button",{...r,onClick:l,className:o,type:p}),c[10]=r,c[11]=l,c[12]=o,c[13]=p,c[14]=d):d=c[14],d},F=()=>{let e,t,a,i,r,o,d,c,p,u,m,f,w,x,h,g,b;let v=(0,s.c)(41);v[0]===Symbol.for("react.memo_cache_sentinel")?(e={favIcon:{src:S.default.src}},v[0]=e):e=v[0];let{set:y,clear:A,countAsNumber:B,isSupported:N,requestPermission:k}=j(e);v[1]!==B?(t=()=>B,v[1]=B,v[2]=t):t=v[2];let[C,E]=(0,l.useState)(t);v[3]!==y?(a=()=>{let e=setTimeout(()=>y(1),50);return()=>{clearTimeout(e)}},i=[y],v[3]=y,v[4]=a,v[5]=i):(a=v[4],i=v[5]),(0,l.useEffect)(a,i);let{install:P,status:_}=M(),q=N()?"install":_,O=B>99;v[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)("h1",{className:"text-2xl font-bold w-[188px] pb-4",children:"use-app-badge"}),v[6]=r):r=v[6];let W=B>0?"[transform:scale(0.5)_translateX(13px)]":"[transform:scale(0)_translateX(13px)]";v[7]!==W?(o=(0,I.cx)("bg-[#ff0000] inline-block p-5 rounded-full relative [transition:transform_ease-out_0.25s]",W),v[7]=W,v[8]=o):o=v[8];let F=O?"text-[17px]":"text-2xl";v[9]!==F?(d=(0,I.cx)(F,"font-bold absolute top-0 left-0 w-[40px] h-[40px] flex items-center justify-center"),v[9]=F,v[10]=d):d=v[10];let X=O?"99+":Math.max(B,C);return v[11]!==d||v[12]!==X?(c=(0,n.jsx)("div",{className:d,children:X}),v[11]=d,v[12]=X,v[13]=c):c=v[13],v[14]!==o||v[15]!==c?(p=(0,n.jsxs)("div",{className:"relative",children:[r,(0,n.jsx)("div",{className:"absolute top-[-12px] right-[-12px]",children:(0,n.jsx)("div",{className:o,children:c})})]}),v[14]=o,v[15]=c,v[16]=p):p=v[16],v[17]!==k?(u=(0,n.jsx)("button",{className:"text-accent cursor-pointer lowercase",onClick:()=>void k(),children:"Request Permission"}),v[17]=k,v[18]=u):u=v[18],v[19]!==y||v[20]!==B?(m=(0,n.jsx)("button",{className:"text-accent cursor-pointer lowercase",onClick:()=>{(async()=>{await y(B+1),E(B+1)})()},children:"Increment Badge Count"}),v[19]=y,v[20]=B,v[21]=m):m=v[21],v[22]!==A?(f=(0,n.jsx)("button",{className:"text-accent cursor-pointer lowercase",onClick:()=>void A(),children:"Clear Badge"}),v[22]=A,v[23]=f):f=v[23],v[24]!==u||v[25]!==m||v[26]!==f?(w=(0,n.jsxs)("div",{className:"flex flex-col gap-y-2 w-[188px] items-start",children:[u,m,f]}),v[24]=u,v[25]=m,v[26]=f,v[27]=w):w=v[27],v[28]!==N?(x=(0,n.jsx)("div",{className:"flex flex-col gap-y-2 w-[188px] items-start pt-4 lowercase h-[40px]",children:(0,n.jsx)(D,{children:()=>(0,n.jsxs)(n.Fragment,{children:["Supported ",N()?"Yes":"No"]})})}),v[28]=N,v[29]=x):x=v[29],v[30]!==p||v[31]!==w||v[32]!==x?(h=(0,n.jsxs)("div",{className:"w-[188px]",children:[p,w,x]}),v[30]=p,v[31]=w,v[32]=x,v[33]=h):h=v[33],v[34]!==q||v[35]!==P||v[36]!==_?(g="loading"!==q?(0,n.jsxs)("div",{className:"w-full flex justify-start pl-[24px] h-[26px]",children:["initial"===q&&(0,n.jsx)(z,{state:"initial",onClick:P,children:"Install Web App to see Demo"}),"denied"===q&&(0,n.jsx)(z,{state:"denied",disabled:!0,children:"Install Prompt Dismissed"}),("install"===q||"install-not-open"===q)&&(0,n.jsx)(z,{state:"installed",disabled:!0,children:"install-not-open"!==_?"Installed":"Installed but Not Open as an App"}),"unsupported"===q&&(0,n.jsx)(z,{state:"unsupported",disabled:!0,children:T()&&L()?"App must be Installed from Safari":"Unsupported Browser"})]}):(0,n.jsx)("div",{className:"w-full flex justify-start pl-[24px] h-[28px]"}),v[34]=q,v[35]=P,v[36]=_,v[37]=g):g=v[37],v[38]!==h||v[39]!==g?(b=(0,n.jsxs)("div",{className:"flex flex-col items-center gap-y-2 py-10 w-[240px]",children:[h,g]}),v[38]=h,v[39]=g,v[40]=b):b=v[40],b}},8200:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});let n={src:"/use-app-badge//_next/static/media/favicon.15bea314.ico",height:48,width:48,blurWidth:0,blurHeight:0}}},e=>{var t=t=>e(e.s=t);e.O(0,[511,174,454,744],()=>t(8032)),_N_E=e.O()}]);